<navApp></navApp>

<div class="pagina">
  <div class="navEspecifico">    
    <div class="listado">
      <h4> Selecionar Clientes </h4>
      <table class="lista">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>nie</th>
          </tr>
        </thead>
        <tbody class="activo activoBoton" *ngFor="let cliente of arrListaClientes; let i = index">
          <tr>
            <td>{{cliente.nombre}}</td>
            <td>{{cliente.apellidos}}</td>
            <td>{{cliente.nie}}</td>
            <td>
            </td>
          </tr>
        </tbody>
      </table>
    </div>   
      <div class="listado">
        <h4>Selecionar Inmueble</h4>
        <table class="lista">
          <thead>
            <tr>
              <th>Tipo Inmueble</th>
              <th>Alias</th>
              <th>Ref Catastral</th>
              <th></th>
            </tr>
          </thead>
          <tbody class="activo " *ngFor="let inmueble of arrListaInmuebles; let i = index">
            <tr>            
              <td>{{inmueble.tipoInmueble}}</td>
              <td>{{inmueble.alias}}</td>
              <td>{{inmueble.refCatastral}}</td>
             
            </tr>
          </tbody>
        </table>
      </div>  
  </div>
  <div class="especifico">
    <div class="listado">
      <table class="lista">
        <thead>
          <tr>
            <th></th>
            <th>Total Ingreso</th>
            <th>Total Gasto</th>
            <th>Total Balance</th>
          </tr>
        </thead>
        <tbody routerLinkActive="activo activoBoton">
          <tr>
            <td><button (click)="desgloseXAnios()">Ver por Años</button></td>
            <td>{{informesBalancesTotales.totalIngresos}} €</td>
            <td>{{informesBalancesTotales.totalGastos}} €</td>
            <td>{{informesBalancesTotales.totalBalance}} €</td>

          </tr>
        </tbody>
      </table>
      <div class="balances">
        <div class="inmueble">
          <table class="lista">
            <thead>
              <tr>
                <td></td>
                <th>Alias</th>
                <th>Total Ingreso</th>
                <th>Total Gasto</th>
                <th>Total Balance</th>
              </tr>
            </thead>
            <tbody routerLinkActive="activo activoBoton"
              *ngFor="let inmueble of informesBalancesXInmuebles">
              <tr>
                <td><button (click)="degloseByInmuebleXAnios(inmueble.idInmueble)">Desglosar por
                    años</button></td>
                <td>{{inmueble.inmuebleAlias}}</td>
                <td>{{inmueble.totalIngresos}} €</td>
                <td>{{inmueble.totalGastos}} €</td>
                <td>{{inmueble.totalBalance}} €</td>

              </tr>
              <tr>
                <td colspan="5">
                  <table>
                    <tbody *ngFor="let anio of informesBalancesByInmuebleXAnios, let i = index">
                      <tr *ngIf="i<1">
                        <th>Alias</th>
                        <th>Año</th>
                        <th>Total Ingreso</th>
                        <th>Total Gasto</th>
                        <th>Total Balance</th>
                      </tr>
                      <tr>
                        <td>{{anio.inmuebleAlias}}</td>
                        <td>{{anio.anio}}</td>
                        <td>{{anio.totalIngresos}} €</td>
                        <td>{{anio.totalGastos}} €</td>
                        <td>{{anio.totalBalance}} €</td>
                        <td><button
                            (click)="desgloseByInmuebleAnioXMes(anio.idInmueble, anio.anio)">Desglosar
                            por
                            Meses</button></td>
                      </tr>
                      <tr>
                        <td colspan="5">
                          <table>
                            <tbody
                              *ngFor="let mes of informesBalancesByInmuebleAnioXMeses, let i = index">
                              <tr *ngIf="i<1">
                                <th>Alias</th>
                                <th>Año</th>
                                <th>Mes</th>
                                <th>Total Ingreso</th>
                                <th>Total Gasto</th>
                                <th>Total Balance</th>
                              </tr>
                              <tr>
                                <td>{{mes.inmuebleAlias}}</td>
                                <td>{{mes.anio}}</td>
                                <td>{{mes.mes}}</td>
                                <td>{{mes.totalIngresos}} €</td>
                                <td>{{mes.totalGastos}} €</td>
                                <td>{{mes.totalBalance}} €</td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="lista">
          <table>
            <thead>
              <tr>
                <th>Año</th>
                <th>Total Ingreso</th>
                <th>Total Gasto</th>
                <th>Total Balance</th>
              </tr>
            </thead>
            <tbody routerLinkActive="activo activoBoton"
              *ngFor="let anio of informesBalancesXAnios">
              <tr>
                <td>{{anio.anio}}</td>
                <td>{{anio.totalIngresos}} €</td>
                <td>{{anio.totalGastos}} €</td>
                <td>{{anio.totalBalance}} €</td>
                <td><button (click)="desgloseByAnioXMeses(anio.anio)">Desglosar por Meses</button>
                </td>
              </tr>
              <tr>
                <td colspan="5">
                  <table>
                    <tbody *ngFor="let mes of informesBalancesByAniosXMeses, let i = index">
                      <tr *ngIf="i<1">
                        <th>Mes</th>
                        <th>Total Ingreso</th>
                        <th>Total Gasto</th>
                        <th>Total Balance</th>
                      </tr>
                      <tr>
                        <td>{{mes.nombreMes}}</td>
                        <td>{{mes.totalIngresos}} €</td>
                        <td>{{mes.totalGastos}} €</td>
                        <td>{{mes.totalBalance}} €</td>
                        <td><button
                            (click)="desgloseByAnioMesesXInmueble(mes.anio, mes.numeroMes)">Desglosar
                            por
                            Inmueble</button></td>
                      </tr>
                      <tr>
                        <td colspan="5">
                          <table>
                            <tbody
                              *ngFor="let inmueble of informesBalancesByAniosMesesXInmueble, let i = index">
                              <tr *ngIf="i<1">
                                <th>Alias</th>
                                <th>Total Ingreso</th>
                                <th>Total Gasto</th>
                                <th>Total Balance</th>
                              </tr>
                              <tr>
                                <td>{{inmueble.inmuebleAlias}}</td>
                                <td>{{inmueble.totalIngresos}} €</td>
                                <td>{{inmueble.totalGastos}} €</td>
                                <td>{{inmueble.totalBalance}} €</td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <router-outlet></router-outlet>
</div>